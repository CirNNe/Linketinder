(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("myChart"),t=document.querySelector("#conteudo-candidato"),a=document.querySelector("#conteudo-cadastro-candidato"),l=document.querySelector("#conteudo-vagas"),n=document.querySelector("#conteudo-lista-empresas"),d=document.querySelector("#botao-escolha-cadatrar-candidato"),o=document.querySelector("#botao-escolha-vagas"),s=document.querySelector("#botao-cadastrar-novo-candidato"),c=document.querySelector("#nome-novo-candidato"),i=document.querySelector("#email-novo-candidato"),r=document.querySelector("#idade-novo-candidato"),u=document.querySelector("#cpf-novo-candidato"),p=document.querySelector("#cep-novo-candidato"),m=document.querySelector("#descricao-pessoal-novo-candidato"),v=document.getElementsByName("competencias-novo-candidato"),L=document.querySelector("#conteudo-empresa"),y=document.querySelector("#conteudo-cadastro-empresa"),h=document.querySelector("#conteudo-cadastro-vaga"),S=document.querySelector("#conteudo-lista-candidatos"),E=document.querySelector("#botao-escolha-cadastrar-empresa"),g=document.querySelector("#botao-escolha-cadastrar-vaga"),C=document.querySelector("#botao-escolha-lista-candidatos"),f=document.querySelector("#botao-cadastrar-nova-vaga"),M=document.querySelector("#botao-cadastrar-nova-empresa"),T=document.querySelector("#nome-nova-vaga"),H=document.querySelector("#empresa-nova-vaga"),q=document.querySelector("#descricao-nova-vaga"),b=document.getElementsByName("competencias-nova-vaga"),N=document.querySelector("#nome-nova-empresa"),k=document.querySelector("#email-nova-empresa"),J=document.querySelector("#cnpj-nova-empresa"),I=document.querySelector("#cep-nova-empresa"),O=document.querySelector("#estado-nova-empresa"),P=document.querySelector("#pais-nova-empresa"),w=document.querySelector("#descricao-nova-empresa");E&&E.addEventListener("click",(function(){L.style.display="none",y.style.display="block"})),g&&g.addEventListener("click",(function(){L.style.display="none",h.style.display="block"})),M&&M.addEventListener("click",(function(){!function(e){let t=localStorage.getItem("empresas");if(t){let a=[];a=JSON.parse(t),a.push(e),localStorage.setItem("empresas",JSON.stringify(a))}else{localStorage.setItem("empresas","[]");let e=[];e=JSON.parse(t),e.push(t),localStorage.setItem("empresas",JSON.stringify(e))}}({id:A(),nome:N.value,email:k.value,cnpj:J.value,cep:I.value,estado:O.value,pais:P.value,descricao:w.value}),y.style.display="none",L.style.display="block"})),f&&f.addEventListener("click",(function(){const e=[];b.forEach((t=>{t.checked&&e.push(t.value)})),function(e){let t=localStorage.getItem("vagas");if(t){let a=[];a=JSON.parse(t),a.push(e),localStorage.setItem("vagas",JSON.stringify(a))}else{localStorage.setItem("vagas","[]");let a=[];a=JSON.parse(t),a.push(e),localStorage.setItem("vagas",JSON.stringify(a))}}({id:A(),nome:T.value,empresa:H.value,descricao:q.value,competencias:e.toString()}),T.value="",H.value="",q.value="",b.forEach((e=>{e.value=""})),h.style.display="none",L.style.display="block"})),o&&o.addEventListener("click",(function(){!function(){const e=localStorage.getItem("vagas"),t=JSON.parse(e);if(e)for(let e=0;e<t.length;e++){t[e].empresa="Anônimo";let a=j(t[e]);l.appendChild(a)}}(),t.style.display="none",l.style.display="block"})),d&&d.addEventListener("click",(function(){t.style.display="none",a.style.display="block"})),o&&o.addEventListener("click",(function(){t.style.display="none",l.style.display="block"}));const D=(new Date).getFullYear()-18,G=(new Date).getFullYear()-100;function A(){return Math.floor(3e3*Math.random())}function F(e){let t=document.createElement("div");t.id=e.id;let a=document.createElement("ul");a.classList.add("estilo-ul");let l=document.createElement("p");l.innerHTML="Nome:",l.classList.add("estilo-p");let n=document.createElement("li");n.classList.add("dados-usuario"),n.innerHTML=e.nome;let d=document.createElement("p");d.innerHTML="E-mail:",d.classList.add("estilo-p");let o=document.createElement("li");o.classList.add("dados-usuario"),o.innerHTML=e.email;let s=document.createElement("p");s.innerHTML="Idade:",s.classList.add("estilo-p");let c=document.createElement("li");c.classList.add("dados-usuario"),c.innerHTML=e.idade;let i=document.createElement("p");i.innerHTML="CPF:",i.classList.add("estilo-p");let r=document.createElement("li");r.classList.add("dados-usuario"),r.innerHTML=e.cpf;let u=document.createElement("p");u.innerHTML="CEP:",u.classList.add("estilo-p");let p=document.createElement("li");p.classList.add("dados-usuario"),p.innerHTML=e.cep;let m=document.createElement("p");m.innerHTML="Descrição Pessoal:",m.classList.add("estilo-p");let v=document.createElement("li");v.classList.add("dados-usuario"),v.innerHTML=e.descricao;let L=document.createElement("p");L.innerHTML="Competências:",L.classList.add("estilo-p");let y=document.createElement("li");y.classList.add("dados-usuario"),y.innerHTML=e.competencias;let h=document.createElement("br");return a.appendChild(l),a.appendChild(n),a.appendChild(d),a.appendChild(o),a.appendChild(s),a.appendChild(c),a.appendChild(i),a.appendChild(r),a.appendChild(u),a.appendChild(p),a.appendChild(m),a.appendChild(v),a.appendChild(L),a.appendChild(y),t.appendChild(a),t.appendChild(h),t}function j(e){let t=document.createElement("div");t.id=e.id;let a=document.createElement("ul");a.classList.add("estilo-ul");let l=document.createElement("p");l.innerHTML="Nome:",l.classList.add("estilo-p");let n=document.createElement("li");n.classList.add("dados-usuario"),n.innerHTML=e.nome;let d=document.createElement("p");d.innerHTML="Empresa:",d.classList.add("estilo-p");let o=document.createElement("li");o.classList.add("dados-usuario"),o.innerHTML=e.empresa;let s=document.createElement("p");s.innerHTML="Descrição:",s.classList.add("estilo-p");let c=document.createElement("li");c.classList.add("dados-usuario"),c.innerHTML=e.descricao;let i=document.createElement("p");i.innerHTML="Competências:",i.classList.add("estilo-p");let r=document.createElement("li");r.classList.add("dados-usuario"),r.innerHTML=e.competencias;let u=document.createElement("br");return a.appendChild(l),a.appendChild(n),a.appendChild(d),a.appendChild(o),a.appendChild(s),a.appendChild(c),a.appendChild(i),a.appendChild(r),t.appendChild(a),t.appendChild(u),t}function B(e){let t=document.createElement("div");t.id=e.id;let a=document.createElement("ul");a.classList.add("estilo-ul");let l=document.createElement("p");l.innerHTML="Nome:",l.classList.add("estilo-p");let n=document.createElement("li");n.classList.add("dados-usuario"),n.innerHTML=e.nome;let d=document.createElement("p");d.innerHTML="E-mail:",d.classList.add("estilo-p");let o=document.createElement("li");o.classList.add("dados-usuario"),o.innerHTML=e.email;let s=document.createElement("p");s.innerHTML="CNPJ:",s.classList.add("estilo-p");let c=document.createElement("li");c.classList.add("dados-usuario"),c.innerHTML=e.cnpj;let i=document.createElement("p");i.innerHTML="CEP:",i.classList.add("estilo-p");let r=document.createElement("li");r.classList.add("dados-usuario"),r.innerHTML=e.cep;let u=document.createElement("p");u.innerHTML="Estado:",u.classList.add("estilo-p");let p=document.createElement("li");p.classList.add("dados-usuario"),p.innerHTML=e.estado;let m=document.createElement("p");m.innerHTML="País:",m.classList.add("estilo-p");let v=document.createElement("li");v.classList.add("dados-usuario"),v.innerHTML=e.pais;let L=document.createElement("p");L.innerHTML="Descrição:",L.classList.add("estilo-p");let y=document.createElement("li");y.classList.add("dados-usuario"),y.innerHTML=e.descricao;let h=document.createElement("br");return a.appendChild(l),a.appendChild(n),a.appendChild(d),a.appendChild(o),a.appendChild(s),a.appendChild(c),a.appendChild(i),a.appendChild(r),a.appendChild(u),a.appendChild(p),a.appendChild(m),a.appendChild(v),a.appendChild(L),a.appendChild(y),t.appendChild(a),t.appendChild(h),t}s&&s.addEventListener("click",(function(){const e=[];v.forEach((t=>{t.checked&&e.push(t.value)}));let l={id:A(),nome:c.value,email:i.value,idade:r.value,cpf:u.value,cep:p.value,descricao:m.value,competencias:e.toString()};(function(e){if(e.nome.match(/[A-Za-zÀ-úà-ú]/g))if(e.email.match(/\S+@\w+\.\w{2,6}(\.\w{2})?/g))if(e.idade>D||e.idade<G)alert("Idade inválida!");else{if(e.cpf.match(/[0-9]{3}\.[0-9]{3}\-[0-9]{2}/g))return e;alert("CPF inválido")}else alert("E-mail inválido!");else alert("Nome inválido!")})(l)&&(function(e){let t=localStorage.getItem("candidatos");if(t){let a=[];a=JSON.parse(t),a.push(e),localStorage.setItem("candidatos",JSON.stringify(a))}else{localStorage.setItem("candidatos","[]");let a=[];a=JSON.parse(t),a.push(e),localStorage.setItem("candidatos",JSON.stringify(a))}}(l),c.value="",i.value="",r.value="",u.value="",p.value="",m.value="",v.forEach((e=>{e.value=""})),a.style.display="none",t.style.display="block")})),C&&C.addEventListener("click",(function(){!function(){const e=localStorage.getItem("candidatos"),t=JSON.parse(e);if(e)for(let e=0;e<t.length;e++){t[e].nome="Anônimo";let a=F(t[e]);S.appendChild(a)}}(),L.style.display="none",S.style.display="block"})),function(){const e=localStorage.getItem("empresas"),t=JSON.parse(e);if(e)for(let e=0;e<t.length;e++){let a=B(t[e]);n.appendChild(a),n.style.display="block"}}();let Y=localStorage.getItem("candidatos"),z=0,Z=0,x=0,K=0,Q=0,R=0,U=0;if(Y){const e=JSON.parse(Y);for(let t=0;t<e.length;t++){let a=e[t].competencias.split(",");for(let e=0;e<a.length;e++)"Git"==a[e]&&(z+=1),"Metodologias Ageis"==a[e]&&(Z+=1),"Testes"==a[e]&&(x+=1),"Java"==a[e]&&(K+=1),"Groovy"==a[e]&&(Q+=1),"JavaScript"==a[e]&&(R+=1),"TypeScript"==a[e]&&(U+=1)}}new Chart(e,{type:"doughnut",data:{labels:["Git","Metodologias Ágeis","Testes","Java","Groovy","JavaScript","TypeScript"],datasets:[{data:[z,Z,x,K,Q,R,U],label:"Gráfico Competências dos Candidatos"}]},options:{responsive:!0,soucemap:!1}})}))})();